function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,n=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(){"use strict";var e,t,r,o,n=[,function(e,t,r){function o(){_classCallCheck(this,o)}r.r(t),r.d(t,{cookie:function(){return n}}),_createClass(o,[{key:"show",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0!==t.length?(console.log("show() does not take any arguments."),null):(document.cookie.split("; ").forEach(function(e){t[e.split("=")[0]]=e.split("=")[1]}),t)}},{key:"hasKey",value:function(e){if("string"!=typeof e)return console.log("has() takes a single string argument."),null;var t=this.show();return Object.keys(t).includes(e)}},{key:"add",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:21600;if(void 0===t||"object"!==_typeof(t)||Array.isArray(t))return console.log("add() takes a non-empty object argument."),null;var r=new Date,e=(r.setTime(r.getTime()+1e3*e),r.toUTCString()),o="";Object.keys(t).forEach(function(e){o+="".concat(e,"=").concat(t[e],";")}),o+="expires=".concat(e,";path=/"),document.cookie=o}},{key:"getObjectByKey",value:function(e){var t={};return"string"!=typeof e?(console.log("getObject() takes a single string argument."),null):(t[e]=this.getValueByKey(e),t)}},{key:"getValueByKey",value:function(e){return"string"!=typeof e?(console.log("getValueByKey() takes a single string argument."),null):this.show()[e]}},{key:"deleteByKey",value:function(e){if("string"!=typeof e)return console.log("deleteByKey() takes a single string argument."),null;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"flush",value:function(){var t=this;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(this.show())).forEach(function(e){t.deleteByKey(e)}),this.show()}}]);var n=new o},function(e,t,r){r.r(t),r.d(t,{improveUsernameLineBreaks:function(){return o}});var o=function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll("[data-xf-init='member-tooltip'][itemprop='name']"));try{for(t.s();!(e=t.n()).done;){var r=e.value,o=r.text;if(15<=o.length){var n,a=o.split(" "),i=!0,l=_createForOfIteratorHelper(a);try{for(l.s();!(n=l.n()).done;)17<n.value.length&&(i=!1)}catch(e){l.e(e)}finally{l.f()}i&&r.setAttribute("style","white-space:nowrap")}}}catch(e){t.e(e)}finally{t.f()}}},function(e,t,r){r.r(t),r.d(t,{activateFamifeed:function(){return i},setFamifeedVisibility:function(){return c},toggleFamifeedVisibility:function(){return l}});var F=r(1),o=r(4),n=r(9),a=r(5),A=r(7);function i(){0<arguments.length&&void 0!==arguments[0]||A.OFF;var e,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=_createForOfIteratorHelper(document.querySelectorAll('[aria-label="famifeed-toggle"]'));try{for(r.s();!(e=r.n()).done;)e.value.addEventListener("click",l)}catch(e){r.e(e)}finally{r.f()}!1===t?(console.log("Requesting feed data."),(0,o.updateFamifeed)()):(console.log("Retrieving feed data from cookies."),t=(0,n.updateFamifeedFromCookie)(),(0,a.applyToPage)({source:"cookie",items:t},!0)),l(null,!0)}function l(){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=F.cookie.getValueByKey(A.FF_PREF_COOKIE);!0===e?t===A.ON?c(A.ON):c(A.OFF):t===A.ON?c(A.OFF):c(A.ON)}function c(e){var t=document.querySelector(".famifeed__container"),r=document.querySelectorAll(".famifeed__text"),o=document.querySelectorAll(".famifeed__background"),n=document.querySelectorAll(".famifeed__anchor"),a=document.querySelector(".famifeed__icon-img"),i={};if(e===A.ON){a.setAttribute("src",A.CIAO_CIAO_GIF_PATH),i[A.FF_PREF_COOKIE]=A.ON,t.classList.remove(A.OFF),t.classList.add(A.ON);var l,c=_createForOfIteratorHelper(r);try{for(c.s();!(l=c.n()).done;)l.value.style.opacity="1"}catch(e){c.e(e)}finally{c.f()}var u,s=_createForOfIteratorHelper(o);try{for(s.s();!(u=s.n()).done;){var f=u.value;f.classList.remove(A.OFF),f.classList.add(A.ON)}}catch(e){s.e(e)}finally{s.f()}var d,m=_createForOfIteratorHelper(n);try{for(m.s();!(d=m.n()).done;){var y=d.value;y.classList.remove(A.OFF),y.classList.add(A.ON),y.removeAttribute("onclick")}}catch(e){m.e(e)}finally{m.f()}F.cookie.add(i)}else{a.setAttribute("src",A.CIAO_CIAO_IMG_PATH),i[A.FF_PREF_COOKIE]=A.OFF,t.classList.remove(A.ON),t.classList.add(A.OFF);var p,_=_createForOfIteratorHelper(r);try{for(_.s();!(p=_.n()).done;){var O=p.value;O.style.opacity="0",O.classList.remove(A.ON),O.classList.add(A.OFF)}}catch(e){_.e(e)}finally{_.f()}var h,v=_createForOfIteratorHelper(o);try{for(v.s();!(h=v.n()).done;){var I=h.value;I.classList.remove(A.ON),I.classList.add(A.OFF)}}catch(e){v.e(e)}finally{v.f()}var g,E=_createForOfIteratorHelper(n);try{for(E.s();!(g=E.n()).done;){var b=g.value;b.classList.remove(A.ON),b.classList.add(A.OFF),b.setAttribute("onclick","return false;")}}catch(e){E.e(e)}finally{E.f()}F.cookie.add(i)}}},function(e,t,r){r.r(t),r.d(t,{getFeedData:function(){return l},updateFamifeed:function(){return i}});var s=r(1),o=r(3),f=r(5),n=r(8),d=r(7),a=!1;function i(){var e;return null===document.querySelector(".famifeed__ticker-updated")?(!1===a&&(a=!0,l()),e=setTimeout(i,500),clearTimeout(d.TIMEOUTS[0]),d.TIMEOUTS.shift(),d.TIMEOUTS.push(e),!1):(clearTimeout(d.TIMEOUTS[0]),d.TIMEOUTS.shift(),e=s.cookie.getValueByKey(d.FF_PREF_COOKIE),(0,o.setFamifeedVisibility)(e),!0)}function l(){var t,e=n.RSS_FEEDS.slice(0,d.SOURCE_LIMIT),i=1,l="",c="",u="",r=_createForOfIteratorHelper(e);try{var o=function(){var e,a=t.value;e=a.url,e="https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(e),$.ajax({url:e,type:"GET",data:{api_key:"fbtusb4sn1cqz6zsktqhx1lzk6o3b0o3uzcdskfy"},error:function(e){console.log(e)}}).then(function(e){e={source:a.source,items:e.items};l+=e.source+d.COOKIE_VALUE_DIVIDER;var t,r=_createForOfIteratorHelper((0,f.applyToPage)(e));try{for(r.s();!(t=r.n()).done;){var o,n=t.value;c+=encodeURIComponent(n.headlineText)+d.COOKIE_VALUE_DIVIDER,u+=n.linkUrl+d.COOKIE_VALUE_DIVIDER,i===d.TOTAL_HEADLINES?(o=0-d.COOKIE_VALUE_DIVIDER.length,s.cookie.add({famifeed_sources:l.slice(0,o)},d.RSS_COOKIE_EXPIRY),s.cookie.add({famifeed_headlines:c.slice(0,o)},d.RSS_COOKIE_EXPIRY),s.cookie.add({famifeed_urls:u.slice(0,o)},d.RSS_COOKIE_EXPIRY),s.cookie.add({get_famifeed_from_cookie:"true"},d.RSS_COOKIE_EXPIRY)):i+=1}}catch(e){r.e(e)}finally{r.f()}})};for(r.s();!(t=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}}},function(e,t,r){r.r(t),r.d(t,{applyToPage:function(){return o}});r(1);var _=r(6),O=r(7),h=0;function o(e){var t,r=e.source,e=!0===(1<arguments.length&&void 0!==arguments[1]&&arguments[1])?e.items:e.items.slice(0,O.HEADLINE_LIMIT),o=document.querySelector(".famifeed__item"),n=[],a=_createForOfIteratorHelper((0,_.shuffle)(e));try{for(a.s();!(t=a.n()).done;){var i,l,c=t.value,u=document.createElement("b"),s=(c.title=c.title.replace(c.source+": ",""),c.title=c.title.replace("&amp;","&"),document.createTextNode(" | "+c.title.replace(c.source+": ",""))),f=(u.innerHTML=("cookie"===r?c.source:r).toUpperCase(),c.title),d=c.link,m=(n.push({headlineText:f,linkUrl:d}),document.createElement("a")),y=document.createElement("div"),p=document.createElement("div");p.appendChild(u),p.appendChild(s),p.classList.add("truncate"),y.appendChild(p),m.appendChild(y),m.setAttribute("href",d),m.setAttribute("target","_blank"),m.classList.add("famifeed__anchor"),m.setAttribute("onclick","return false;"),y.setAttribute("class","famifeed__text off"),o.appendChild(m),(h+=1)===O.TOTAL_HEADLINES&&(document.querySelector(".famifeed__ticker").classList.add("famifeed__ticker-updated"),i=document.querySelector(".famifeed__ticker"),l=document.querySelector(".famifeed__list"),i.append(l.cloneNode(!0)))}}catch(e){a.e(e)}finally{a.f()}return n}},function(e,t,r){function o(e){for(var t,r=e.length;0!==r;){t=Math.floor(Math.random()*r),r--;var o=[e[t],e[r]];e[r]=o[0],e[t]=o[1]}return e}r.r(t),r.d(t,{shuffle:function(){return o}})},function(e,t,r){r.r(t),r.d(t,{CIAO_CIAO_GIF_PATH:function(){return u},CIAO_CIAO_IMG_PATH:function(){return s},COOKIE_VALUE_DIVIDER:function(){return m},FF_AVAIL_COOKIE:function(){return n},FF_PREF_COOKIE:function(){return o},HEADLINE_LIMIT:function(){return a},OFF:function(){return d},ON:function(){return f},RSS_COOKIE_EXPIRY:function(){return c},SOURCE_LIMIT:function(){return i},TIMEOUTS:function(){return y},TOTAL_HEADLINES:function(){return l}});var t=r(8),o="famifeed_preference",n="get_famifeed_from_cookie",a=2,i=15,l=Math.min(t.RSS_FEEDS.length,i)*a,c=60,u="/data/assets/logo/famifeed/ciaociao.gif",s="/data/assets/logo/famifeed/ciaociao-still.gif",f="on",d="off",m="---",y=[]},function(e,t,r){r.r(t),r.d(t,{RSS_FEEDS:function(){return o}});var o=[{source:"@NintendoAmerica",url:"https://rss.app/feeds/t24NYWcEUWR6u5sR.xml"},{source:"@Wario64",url:"https://rss.app/feeds/fhc5mLOA2EOlXt7l.xml"},{source:"@Nibellion",url:"https://rss.app/feeds/MpFdmWQhMbGtKBx5.xml"},{source:"Nintendo Life",url:"https://nintendolife.com/feeds/news"},{source:"NWR",url:"https://nintendoworldreport.com/rss/news"},{source:"NE",url:"https://nintendoeverything.com/feed"},{source:"Eurogamer",url:"https://eurogamer.net/?format=rss"},{source:"Vooks",url:"https://vooks.net/feed/"},{source:"Bloomberg",url:"https://bloomberg.com/authors/AUvqMRVAZCw/jason-schreier.rss"},{source:"VGC",url:"https://www.videogameschronicle.com/feed/vgc__nintendo"},{source:"IGN",url:"http://feeds.feedburner.com/ign-nintendo-switch-articles"},{source:"Polygon",url:"https://www.polygon.com/rss/index.xml"},{source:"GameInformer",url:"https://www.gameinformer.com/news.xml"},{source:"VG247",url:"https://www.vg247.com/feed"},{source:"Install Base",url:"https://www.installbaseforum.com/forums/forums/-/index.rss"},{source:"Gematsu",url:"https://www.gematsu.com/feed"},{source:"MyNintendoNews",url:"https://mynintendonews.com/feed/"},{source:"GameSpot",url:"https://www.gamespot.com/feeds/game-news"}]},function(e,t,r){r.r(t),r.d(t,{updateFamifeedFromCookie:function(){return o}});var a=r(1),i=r(7);function o(){var t=0,r=a.cookie.getValueByKey("famifeed_sources").split(i.COOKIE_VALUE_DIVIDER),o=a.cookie.getValueByKey("famifeed_headlines").split(i.COOKIE_VALUE_DIVIDER),n=a.cookie.getValueByKey("famifeed_urls").split(i.COOKIE_VALUE_DIVIDER);return _toConsumableArray(Array(i.TOTAL_HEADLINES).keys()).map(function(e){return e%i.HEADLINE_LIMIT==0&&0!==e&&t++,{link:n[e],source:r[t],title:decodeURIComponent(o[e])}})}}],a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;t=a[e]={exports:{}};return n[e](t,t.exports,i),t.exports}i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({}),e=i(1),t=i(2),r=i(3),o=i(7),(0,t.improveUsernameLineBreaks)(),(0,r.activateFamifeed)(e.cookie.getValueByKey(o.FF_PREF_COOKIE),"true"===e.cookie.getValueByKey(o.FF_AVAIL_COOKIE))}();